--------------------------------------------------------
AXIOM Raw Stream Handler - File Integrity emulation
Please run this script by cd(ing) into the project folder
--------------------------------------------------------
- requires root access
=== Beginning building binaries for emulation
1. Building cam2mlv
-- The C compiler identification is GNU 7.3.0
-- The CXX compiler identification is GNU 7.3.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Configuring done
-- Generating done
-- Build files have been written to: /home/supragya/AXIOM_RawStreamHandler/build
Scanning dependencies of target Generator
[ 16%] Building CXX object src/generator/CMakeFiles/Generator.dir/generator.cpp.o
[ 33%] Linking CXX executable Generator
[ 33%] Built target Generator
Scanning dependencies of target StreamHandler
[ 50%] Building CXX object src/stream_handler/CMakeFiles/StreamHandler.dir/frameman.cpp.o
[ 66%] Building CXX object src/stream_handler/CMakeFiles/StreamHandler.dir/metaman.cpp.o
[ 83%] Building CXX object src/stream_handler/CMakeFiles/StreamHandler.dir/stream_handler.cpp.o
[100%] Linking CXX executable StreamHandler
[100%] Built target StreamHandler
2. Building mlv2dng
make: Entering directory '/home/supragya/AXIOM_RawStreamHandler/mlvfs/mlvfs'
rm -f mlvfs dng.o index.o wav.o stripes.o cs.o amaze_demosaic_RT.o hdr.o histogram.o mongoose/mongoose.o webgui.o resource_manager.o lj92.o gif.o patternnoise.o slre/slre.o LZMA/7zAlloc.o LZMA/7zBuf.o LZMA/7zBuf2.o LZMA/7zCrc.o LZMA/7zCrcOpt.o LZMA/7zDec.o LZMA/7zFile.o LZMA/7zIn.o LZMA/7zStream.o LZMA/Alloc.o LZMA/Bcj2.o LZMA/Bra.o LZMA/Bra86.o LZMA/BraIA64.o LZMA/CpuArch.o LZMA/Delta.o LZMA/LzFind.o LZMA/Lzma2Dec.o LZMA/Lzma2Enc.o LZMA/Lzma86Dec.o LZMA/Lzma86Enc.o LZMA/LzmaDec.o LZMA/LzmaEnc.o LZMA/LzmaLib.o LZMA/Ppmd7.o LZMA/Ppmd7Dec.o LZMA/Ppmd7Enc.o LZMA/Sha256.o LZMA/Xz.o LZMA/XzCrc64.o
make: Leaving directory '/home/supragya/AXIOM_RawStreamHandler/mlvfs/mlvfs'
make: Entering directory '/home/supragya/AXIOM_RawStreamHandler/mlvfs/mlvfs'
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 dng.c -o dng.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 index.c -o index.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 wav.c -o wav.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 stripes.c -o stripes.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 cs.c -o cs.o
gcc -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26   -c -o amaze_demosaic_RT.o amaze_demosaic_RT.c
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 hdr.c -o hdr.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 histogram.c -o histogram.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 mongoose/mongoose.c -o mongoose/mongoose.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 webgui.c -o webgui.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 resource_manager.c -o resource_manager.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 lj92.c -o lj92.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 gif.c -o gif.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 patternnoise.c -o patternnoise.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 slre/slre.c -o slre/slre.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/7zAlloc.c -o LZMA/7zAlloc.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/7zBuf.c -o LZMA/7zBuf.o
gcc -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26   -c -o LZMA/7zBuf2.o LZMA/7zBuf2.c
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/7zCrc.c -o LZMA/7zCrc.o
gcc -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26   -c -o LZMA/7zCrcOpt.o LZMA/7zCrcOpt.c
gcc -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26   -c -o LZMA/7zDec.o LZMA/7zDec.c
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/7zFile.c -o LZMA/7zFile.o
gcc -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26   -c -o LZMA/7zIn.o LZMA/7zIn.c
gcc -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26   -c -o LZMA/7zStream.o LZMA/7zStream.c
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/Alloc.c -o LZMA/Alloc.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/Bcj2.c -o LZMA/Bcj2.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/Bra.c -o LZMA/Bra.o
gcc -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26   -c -o LZMA/Bra86.o LZMA/Bra86.c
gcc -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26   -c -o LZMA/BraIA64.o LZMA/BraIA64.c
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/CpuArch.c -o LZMA/CpuArch.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/Delta.c -o LZMA/Delta.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/LzFind.c -o LZMA/LzFind.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/Lzma2Dec.c -o LZMA/Lzma2Dec.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/Lzma2Enc.c -o LZMA/Lzma2Enc.o
gcc -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26   -c -o LZMA/Lzma86Dec.o LZMA/Lzma86Dec.c
gcc -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26   -c -o LZMA/Lzma86Enc.o LZMA/Lzma86Enc.c
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/LzmaDec.c -o LZMA/LzmaDec.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/LzmaEnc.c -o LZMA/LzmaEnc.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/LzmaLib.c -o LZMA/LzmaLib.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/Ppmd7.c -o LZMA/Ppmd7.o
gcc -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26   -c -o LZMA/Ppmd7Dec.o LZMA/Ppmd7Dec.c
gcc -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26   -c -o LZMA/Ppmd7Enc.o LZMA/Ppmd7Enc.c
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/Sha256.c -o LZMA/Sha256.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/Xz.c -o LZMA/Xz.o
gcc -c -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 LZMA/XzCrc64.c -o LZMA/XzCrc64.o
gcc -Wall -std=gnu99 -D_FILE_OFFSET_BITS=64 -DVERSION="\"v0.0.1-4-gd9a69c4-dirty\"" -DFUSE_USE_VERSION=26 main.c dng.o index.o wav.o stripes.o cs.o amaze_demosaic_RT.o hdr.o histogram.o mongoose/mongoose.o webgui.o resource_manager.o lj92.o gif.o patternnoise.o slre/slre.o LZMA/7zAlloc.o LZMA/7zBuf.o LZMA/7zBuf2.o LZMA/7zCrc.o LZMA/7zCrcOpt.o LZMA/7zDec.o LZMA/7zFile.o LZMA/7zIn.o LZMA/7zStream.o LZMA/Alloc.o LZMA/Bcj2.o LZMA/Bra.o LZMA/Bra86.o LZMA/BraIA64.o LZMA/CpuArch.o LZMA/Delta.o LZMA/LzFind.o LZMA/Lzma2Dec.o LZMA/Lzma2Enc.o LZMA/Lzma86Dec.o LZMA/Lzma86Enc.o LZMA/LzmaDec.o LZMA/LzmaEnc.o LZMA/LzmaLib.o LZMA/Ppmd7.o LZMA/Ppmd7Dec.o LZMA/Ppmd7Enc.o LZMA/Sha256.o LZMA/Xz.o LZMA/XzCrc64.o -pthread -lfuse -lm -o mlvfs
make: Leaving directory '/home/supragya/AXIOM_RawStreamHandler/mlvfs/mlvfs'
=== Write cam stream
Axiom Stream Generator
Generating Frames
[18874368]
Of 5 written 1[18874368]
Of 5 written 2[18874368]
Of 5 written 3[18874368]
Of 5 written 4[18874368]
Of 5 written 5
Generating Meta done
Generator ends, stream files written.
=== Running cam2mlv
>>> AXIOM RVCF Emulation - disk emulation

Spawning threads - frame and meta
MetaMan: Success in accessing stream metaData.dat
FrameStreamHandler success opening frameData.dat
Meta Block: MLVI encountered
Meta Block: RAWI encountered
Meta Block: EXPO encountered
Meta Block: LENS encountered
MetaMan: metaStream read into memory buffer
MetaMan: Cache file writing donemetaCache.dat
FrameDiskHandler success opening frameCache.dat
MetaMan: MetaStream ended
Frame 0 in buf 0 sizes [14%,0%]  filled status: [0,0] 
Frame 1 in buf 0 sizes [28%,0%]  filled status: [0,0] 
Frame 2 in buf 0 sizes [42%,0%]  filled status: [0,0] 
Frame 3 in buf 0 sizes [56%,0%]  filled status: [0,0] 
Frame 4 in buf 0 sizes [70%,0%]  filled status: [0,0] 
FrameStreamHandler handled 5 RAW12 vidf frames.
FrameStreamHandler exits: Reached eof on file frameData.dat
FrameDiskHandler dumping (after syncbool = false) buffer 0 [0 -> 94372020] 
FrameDiskHandler dumping (after syncbool = false) buffer 1 [94372020 -> 94372020] 
FrameDiskHandler report: sizes [0%,0%]  filled status: [0,0] 
FrameDiskHandler exits: syncbool set to false
Frame time per frame: 0.0011(avg), max: 8.9e+02 per second
FrameStreamHandler done
Done receiving from streams, begin merge to single cache
Caching took: (seconds) 0.17
Join: success opening axiom.mlv
Join: success opening metaCache.dat
Out from [0, 368]
Join: Written successfully metaCache.dat
Join: success opening frameCache.dat
Encountered frame no. 0Encountered frame no. 1Encountered frame no. 2Encountered frame no. 3Encountered frame no. 4
Join: written 5 frames
Join: Written successfully frameCache.dat
Joining done!
Joining took: (seconds) 0.1
Cache joining done, mlv is now ready at axiom.mlv
Net time took: (seconds) 0.28

>>>Emulation ends here
=== Test MLV file - MLVtestresult.txt

 MLV Dumper v1.0
-----------------

Mode of operation:
   - Input MLV file: 'bin/axiom.mlv'
   - Verbose messages
   - Convert to DNG frames
   - Output into 'bin/axiom_'
File bin/axiom.mlv opened
File bin/axiom.m00 not existing.
Processing...
File Header (MLVI)
    Size        : 0x00000034
    Ver         :  еоќ
    GUID        : 00000000
    FPS         : 30.000000
    File        : 0 / 1
    Frames Video: 0
    Frames Audio: 0
Block: RAWI
  Offset: 0x00000034
    Size: 180
    Time: 0.000000 ms
    Res:  4096x3072
    raw_info:
      api_version      0x00000001
      height           3072
      width            4092
      pitch            6138
      frame_size       0x011FB800
      bits_per_pixel   12
      black_level      0
      white_level      15000
      active_area.y1   930928394
      active_area.x1   32542
      active_area.y2   930822401
      active_area.x2   32542
      exposure_bias    0, 0
      cfa_pattern      0x02010100
      calibration_ill  0
Block: EXPO
  Offset: 0x000000e8
    Size: 40
    Time: 0.000000 ms
     ISO Mode:   0
     ISO:        400
     ISO Analog: 800
     ISO DGain:  1/1024 EV
     Shutter:    250 microseconds (1/4000.00)
Block: LENS
  Offset: 0x00000110
    Size: 96
    Time: 0.000000 ms
     Name:        'Tamron Di LD Macro 1:2'
     Serial:      'TMR_AXFF60213F2'
     Focal Len:   35 mm
     Focus Dist:  65535 mm
     Aperture:    f/3.50
     IS Mode:     0
     AF Mode:     1
     Lens ID:     0x4FFAE214
     Flags:       0x00000000
Block: VIDF
  Offset: 0x00000170
    Size: 18874400
    Time: 0.000000 ms
   Frame: #0000
    Crop: 0x0
     Pan: 4096x3072
   Space: 32542
   depth: 12 -> 14, size: 18841826 -> 22020096 (116.67%)
Error: old frame size is too small for 4096x3072 at 12 bpp. Input data corrupt. (18841826 < 18874368)
Processed 0 video frames
Done

=== Running mlv2dng
